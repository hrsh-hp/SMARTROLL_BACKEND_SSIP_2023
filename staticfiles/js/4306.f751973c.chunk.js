"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[4306,3255,4085,8386],{9979:(e,s,t)=>{t.r(s),t.d(s,{default:()=>c});var l=t(2791),a=t(2585),r=t(2937),n=(t(8682),t(184));const c=e=>{const{state:s,dispatch:t}=(0,l.useContext)(a.y),{objectCount:c}=s;console.log(c);const{currentStep:i,chageSteps:o}=e;return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(r.rb,{className:"mb-2",children:(0,n.jsx)(r.b7,{xl:!0,children:(0,n.jsx)(r.xH,{children:(0,n.jsxs)(r.sl,{style:{display:"flex",justifyContent:"space-between"},children:[(0,n.jsx)("nav",{"aria-label":"breadcrumb",children:(0,n.jsxs)("ol",{className:"breadcrumb",style:{margin:"0"},children:[(0,n.jsx)("li",{className:"breadcrumb-item active","aria-current":"page",children:(0,n.jsx)("svg",{style:{marginTop:"-3"},xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-house",viewBox:"0 0 16 16",children:(0,n.jsx)("path",{d:"M8.707 1.5a1 1 0 0 0-1.414 0L.646 8.146a.5.5 0 0 0 .708.708L2 8.207V13.5A1.5 1.5 0 0 0 3.5 15h9a1.5 1.5 0 0 0 1.5-1.5V8.207l.646.647a.5.5 0 0 0 .708-.708L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293L8.707 1.5ZM13 7.207V13.5a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5V7.207l5-5 5 5Z"})})}),{batch:["batch"],semester:["batch","semester"],subject:["batch","semester","subject"]}[i].map(((e,s)=>(0,n.jsx)("li",{className:"breadcrumb-item active","aria-current":"page",children:(0,n.jsx)("a",{onClick:()=>{o(e)},className:e===i?"disabled":"",children:e})},s)))]})}),(0,n.jsxs)("span",{children:["Branch - ",c.branch]})]})})})})})}},3255:(e,s,t)=>{t.r(s),t.d(s,{default:()=>h});var l=t(2791),a=t(5294),r=t(2585),n=(t(2958),t(2937)),c=(t(9160),t(3645)),i=t(7689),o=t(184);const d=(e,s,t)=>{const[d,h]=(0,l.useState)(!1),[u,x]=(0,l.useState)(""),[j,m]=(0,l.useState)(""),[b,g]=(0,l.useState)(""),[p,v]=(0,l.useState)(""),{state:C,dispatch:S}=(0,l.useContext)(r.y),{accessToken:f,refreshToken:y,semesters:k,objectCount:w}=C,[_,N]=(0,l.useState)(w);(0,i.s0)();return(0,o.jsxs)(n.lx,{className:"row g-3 needs-validation",noValidate:!0,validated:d,onSubmit:e=>{!1===e.currentTarget.checkValidity()&&(e.preventDefault(),e.stopPropagation()),e.preventDefault(),h(!0);(async e=>{const t=a.Z.create();let l={"Content-Type":"application/json","ngrok-skip-browser-warning":!0},r=await(0,c.J)(t,"/manage/add_semester","post",l,e,null);if(0==r.error){let e=r.response,t={...w};t.semesters+=1,console.log(t),S({type:"GET_OBJECTS",payload:t}),e.data.data.status&&s((s=>[...s,e.data.data]))}else console.log(r.error)})({batch_slug:t,semester_number:u,start_date:b,end_date:p}),(0,c.w)("success","Semester Added successfully...!")},children:[(0,o.jsxs)(n.b7,{md:12,children:[(0,o.jsx)(n.L8,{htmlFor:"validationCustom01",children:"Semester Number"}),(0,o.jsx)(n.jO,{type:"number",id:"validationCustom01",onChange:e=>x(e.target.value),required:!0}),(0,o.jsx)(n.CO,{valid:!0,children:"Looks good!"})]}),(0,o.jsxs)(n.b7,{md:6,children:[(0,o.jsx)(n.L8,{htmlFor:"validationCustom02",children:"Term Start Date"}),(0,o.jsx)(n.jO,{type:"date",id:"validationCustom02",onChange:e=>g(e.target.value),required:!0}),(0,o.jsx)(n.CO,{valid:!0,children:"Looks good!"})]}),(0,o.jsxs)(n.b7,{md:6,children:[(0,o.jsx)(n.L8,{htmlFor:"validationCustom02",children:"Term End Date"}),(0,o.jsx)(n.jO,{type:"date",id:"validationCustom02",onChange:e=>v(e.target.value),required:!0}),(0,o.jsx)(n.CO,{valid:!0,children:"Looks good!"})]}),(0,o.jsx)(n.b7,{xs:12,children:(0,o.jsx)("button",{className:"btn btn-outline-dark form-control",type:"submit",children:"Submit form"})})]})},h=e=>{const{batchSlug:s,chageSteps:t,setsemSlug:h}=e,[u,x]=(0,l.useState)([]),{state:j,dispatch:m}=(0,l.useContext)(r.y),{accessToken:b,refreshToken:g,semesters:p}=j;(0,i.s0)();return(0,l.useEffect)((()=>{(async()=>{const e=a.Z.create();let t={"Content-Type":"application/json","ngrok-skip-browser-warning":!0},l=await(0,c.J)(e,"/manage/get_semesters","get",t,null,{batch_slug:s});if(0==l.error){let e=l.response;x(e.data.data),console.log(e.data.data),console.log(u)}else console.log(l.error)})()}),[]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.rb,{children:(0,o.jsx)(n.b7,{xs:12,children:(0,o.jsxs)(n.xH,{className:"mb-3",children:[(0,o.jsx)(n.bn,{children:(0,o.jsx)("strong",{children:"Semesters"})}),(0,o.jsx)(n.sl,{children:d(0,x,s)})]})})}),(0,o.jsx)(n.rb,{children:(0,o.jsx)(n.b7,{xs:!0,children:(0,o.jsxs)(n.xH,{className:"mb-4",children:[(0,o.jsx)(n.bn,{children:(0,o.jsx)("strong",{children:"Semester History"})}),(0,o.jsx)(n.sl,{children:(0,o.jsxs)(n.Sx,{align:"middle",className:"mb-0 border",hover:!0,responsive:!0,children:[(0,o.jsx)(n.V,{color:"light",children:(0,o.jsxs)(n.T6,{onClick:()=>{t("subject")},children:[(0,o.jsx)(n.is,{children:"Semester"}),(0,o.jsx)(n.is,{children:"Term Start Date"}),(0,o.jsx)(n.is,{children:"Term End Date"})]})}),(0,o.jsx)(n.NR,{children:u.map(((e,s)=>e.status?(0,o.jsxs)(n.T6,{onClick:()=>{t("subject"),h(e.slug)},children:[(0,o.jsx)(n.NN,{children:(0,o.jsx)("div",{children:e.no})}),(0,o.jsx)(n.NN,{children:(0,o.jsx)("div",{children:e.start_date})}),(0,o.jsx)(n.NN,{children:(0,o.jsx)("div",{children:e.end_date})})]},s):null))})]})})]})})})]})}},4085:(e,s,t)=>{t.r(s),t.d(s,{default:()=>j});var l=t(2791),a=t(2007),r=t.n(a),n=t(2585),c=t(5294),i=(t(2958),t(9160),t(3645)),o=t(2937),d=t(7689),h=t(184);const u=(e,s)=>{const[t,a]=(0,l.useState)(!1),[r,u]=(0,l.useState)(""),[x,j]=(0,l.useState)(""),[m,b]=(0,l.useState)(""),{state:g,dispatch:p}=(0,l.useContext)(n.y),{accessToken:v,refreshToken:C,objectCount:S}=g;(0,d.s0)();return(0,h.jsxs)(o.lx,{className:"row g-3 needs-validation",noValidate:!0,validated:t,onSubmit:t=>{!1===t.currentTarget.checkValidity()&&(t.preventDefault(),t.stopPropagation()),console.log(r),console.log(x),console.log(m),a(!0);const l={semester_slug:e,subject_name:r,subject_code:x,subject_credit:m};t.preventDefault(),(async e=>{const t=c.Z.create();let l={"Content-Type":"application/json","ngrok-skip-browser-warning":!0},a=await(0,i.J)(t,"/manage/add_subjects","post",l,e,null);if(0==a.error){let e=a.response,t={...S};t.subjects+=1,console.log(t),p({type:"GET_OBJECTS",payload:t}),s((s=>[...s,e.data.subject]))}else console.log(a.error)})(l),(0,i.w)("success","Subject Added successfully...!")},children:[(0,h.jsxs)(o.b7,{md:12,children:[(0,h.jsx)(o.L8,{htmlFor:"validationCustom01",children:"Subject Name"}),(0,h.jsx)(o.jO,{type:"text",id:"validationCustom01",onChange:e=>u(e.target.value),required:!0}),(0,h.jsx)(o.CO,{valid:!0,children:"Looks good!"})]}),(0,h.jsxs)(o.b7,{md:6,children:[(0,h.jsx)(o.L8,{htmlFor:"validationCustom01",children:"Subject Code"}),(0,h.jsx)(o.jO,{type:"text",id:"validationCustom02",onChange:e=>j(e.target.value),required:!0}),(0,h.jsx)(o.CO,{valid:!0,children:"Looks good!"})]}),(0,h.jsxs)(o.b7,{md:6,children:[(0,h.jsx)(o.L8,{htmlFor:"validationCustom02",children:"Subject Credit"}),(0,h.jsx)(o.jO,{type:"text",id:"validationCustom02",onChange:e=>b(e.target.value),required:!0}),(0,h.jsx)(o.CO,{valid:!0,children:"Looks good!"})]}),(0,h.jsx)(o.b7,{xs:12,children:(0,h.jsx)("button",{className:"btn btn-outline-dark form-control",type:"submit",children:"Submit form"})})]})},x=e=>{const{state:s,dispatch:t}=(0,l.useContext)(n.y),{accessToken:a,refreshToken:r,semesters:x}=s,{semSlug:j,chageSteps:m}=((0,d.s0)(),e);console.log(j);const[b,g]=(0,l.useState)([]);return(0,l.useEffect)((()=>{(async()=>{const e=c.Z.create();let s={"Content-Type":"application/json","ngrok-skip-browser-warning":!0},t=await(0,i.J)(e,"/manage/get_subjects","get",s,null,{semester_slug:j});if(0==t.error){let e=t.response;g(e.data.data)}else console.log(t.error)})()}),[]),(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(o.rb,{children:(0,h.jsx)(o.b7,{xs:12,children:(0,h.jsxs)(o.xH,{className:"mb-3",children:[(0,h.jsx)(o.bn,{children:(0,h.jsx)("strong",{children:"Subjects"})}),(0,h.jsx)(o.sl,{children:u(j,g)})]})})}),(0,h.jsx)(o.rb,{children:(0,h.jsx)(o.b7,{xs:!0,children:(0,h.jsxs)(o.xH,{className:"mb-4",children:[(0,h.jsx)(o.bn,{children:(0,h.jsx)("strong",{children:"Subjects History"})}),(0,h.jsx)(o.sl,{children:(0,h.jsxs)(o.Sx,{align:"middle",className:"mb-0 border",hover:!0,responsive:!0,children:[(0,h.jsx)(o.V,{color:"light",children:(0,h.jsxs)(o.T6,{children:[(0,h.jsx)(o.is,{children:"Subject Name"}),(0,h.jsx)(o.is,{children:"Subject Code"}),(0,h.jsx)(o.is,{children:"Subject Credit"})]})}),(0,h.jsx)(o.NR,{children:b.map(((e,s)=>(0,h.jsxs)(o.T6,{"v-for":"item in tableItems",children:[(0,h.jsx)(o.NN,{children:(0,h.jsx)("div",{children:e.subject_name})}),(0,h.jsx)(o.NN,{children:(0,h.jsx)("div",{children:e.code})}),(0,h.jsx)(o.NN,{children:(0,h.jsx)("div",{children:e.credit})})]},s)))})]})})]})})})]})};x.prototype={chageSteps:r().func.isRequired,semSlug:r().string};const j=x},8386:(e,s,t)=>{t.r(s),t.d(s,{default:()=>h});var l=t(2791),a=t(5294),r=t(7689),n=t(3645),c=t(2937),i=t(2585),o=(t(2958),t(9160),t(184));const d=(e,s,t)=>{const{state:d,dispatch:h}=(0,l.useContext)(i.y),{accessToken:u,refreshToken:x,batches:j,currentBatch:m}=d,[b,g]=(0,l.useState)(!1),p=(new Date).getFullYear(),[v,C]=(0,l.useState)(p),S=(parseInt(v,10)+1).toString();(0,r.s0)();return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)(c.lx,{className:"row g-3 needs-validation",noValidate:!0,validated:b,onSubmit:e=>{const l=e.currentTarget;e.preventDefault(),!1===l.checkValidity()&&(e.preventDefault(),e.stopPropagation()),g(!0);(async e=>{const l=a.Z.create();let r={"Content-Type":"application/json","ngrok-skip-browser-warning":!0},c=await(0,n.J)(l,"/manage/add_batch","post",r,e,null);if(0==c.error){let e=c.response,l={...objectCount};l.batches+=1,console.log(l),h({type:"GET_OBJECTS",payload:l}),s((s=>[...s,e.data.data])),t((e=>e+1))}else console.log(c.error)})({batch_name:v+"-"+S}),(0,n.w)("success","Bactch Added successfully...!")},children:[(0,o.jsxs)(c.b7,{md:6,children:[(0,o.jsx)(c.L8,{htmlFor:"validationCustom01",children:"Start Year"}),(0,o.jsx)(c.jO,{type:"number",min:p,max:"2099",step:"1",value:v,id:"validationCustom01",onChange:e=>C(e.target.value),required:!0,maxLength:4}),(0,o.jsx)(c.CO,{valid:!0,children:"Looks good!"})]}),(0,o.jsxs)(c.b7,{md:6,children:[(0,o.jsx)(c.L8,{htmlFor:"validationCustom02",children:"End Year"}),(0,o.jsx)(c.jO,{type:"number",value:S,readOnly:!0,step:"1",id:"validationCustom02",required:!0,maxLength:4}),(0,o.jsx)(c.CO,{valid:!0,children:"Looks good!"})]}),(0,o.jsx)(c.b7,{xs:12,children:(0,o.jsx)("button",{className:"btn btn-outline-dark form-control",type:"submit",children:"Submit form"})})]})})},h=e=>{const{chageSteps:s}=e,{setSlug:t}=e,{setBatchCout:a}=e,{state:n,dispatch:h}=(0,l.useContext)(i.y),{accessToken:u,refreshToken:x,batches:j,currentBatch:m}=n,[b,g]=((0,r.s0)(),(0,l.useState)(j));return(0,l.useEffect)((()=>{g(j)}),[j]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(c.rb,{children:(0,o.jsx)(c.b7,{xs:12,children:(0,o.jsxs)(c.xH,{className:"mb-3",children:[(0,o.jsx)(c.bn,{children:(0,o.jsx)("strong",{children:"Batches"})}),(0,o.jsx)(c.sl,{children:d(0,g,a)})]})})}),(0,o.jsx)(c.rb,{children:(0,o.jsx)(c.b7,{xs:!0,children:(0,o.jsxs)(c.xH,{className:"mb-4",children:[(0,o.jsx)(c.bn,{children:(0,o.jsx)("strong",{children:"Batches History"})}),(0,o.jsx)(c.sl,{children:(0,o.jsxs)(c.Sx,{align:"middle",className:"mb-0 border text-center",hover:!0,responsive:!0,children:[(0,o.jsx)(c.V,{color:"light",children:(0,o.jsxs)(c.T6,{children:[(0,o.jsx)(c.is,{children:"Batches"}),(0,o.jsx)(c.is,{children:"Activation Status"})]})}),(0,o.jsx)(c.NR,{children:b.map(((e,l)=>(0,o.jsxs)(c.T6,{"v-for":"item in tableItems",children:[(0,o.jsx)(c.NN,{children:(0,o.jsx)("div",{onClick:()=>{s("semester"),t(e.slug)},children:e.batch_name})}),(0,o.jsx)(c.NN,{children:(0,o.jsx)("div",{onClick:()=>{s("semester"),t(e.slug)},children:e.active?(0,o.jsx)("div",{children:(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-check-circle-fill",viewBox:"0 0 16 16",children:(0,o.jsx)("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"})})}):(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-x-circle-fill",viewBox:"0 0 16 16",children:(0,o.jsx)("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM5.354 4.646a.5.5 0 1 0-.708.708L7.293 8l-2.647 2.646a.5.5 0 0 0 .708.708L8 8.707l2.646 2.647a.5.5 0 0 0 .708-.708L8.707 8l2.647-2.646a.5.5 0 0 0-.708-.708L8 7.293 5.354 4.646z"})})})})]},l)))})]})})]})})})]})}},2389:(e,s,t)=>{t.d(s,{Z:()=>d});var l=t(2791),a=t(2937),r=t(5294),n=(t(2958),t(2585)),c=t(7689),i=t(3645),o=t(184);const d=function(e){let{visible:s,setVisible:t,scheduleObj:d,lectureObj:h,currentSelectSemester:u,setupdate_timetable:x}=e;const{state:j,dispatch:m}=(0,l.useContext)(n.y),{accessToken:b,refreshToken:g,batches:p,currentBatch:v,objectCount:C}=j,[S,f]=((0,c.s0)(),(0,l.useState)([])),[y,k]=(0,l.useState)([]),[w,_]=(0,l.useState)([]),[N,T]=(0,l.useState)(null),[L,O]=(0,l.useState)(null),[B,F]=(0,l.useState)(null);return(0,l.useEffect)((()=>{console.log(B)}),[B]),(0,l.useEffect)((()=>{s&&(document.getElementById("teacher_select").options[0].selected=!0,document.getElementById("subject_select").options[0].selected=!0,document.getElementById("classroom_select").options[0].selected=!0,(async()=>{const e=r.Z.create();let s={"Content-Type":"application/json","ngrok-skip-browser-warning":!0},t=await(0,i.J)(e,"/manage/timetable/get_objects_for_lecture","get",s,null,{semester_slug:u});if(0==t.error){let e=t.response;f(e.data.classrooms),k(e.data.subjects)}else console.log(t.error)})())}),[s]),(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)(a.N3,{className:"card w-100",style:{background:"#3c4b64"},placement:"end",visible:s,onHide:()=>t(!1),"data-coreui-backdrop":"static",children:[(0,o.jsxs)(a.Cu,{className:"card-header text-light",style:{background:"#303c54"},children:[(0,o.jsx)(a.XU,{children:"Manage Lecture"}),(0,o.jsx)("button",{className:"btn btn-outline-light",onClick:()=>t(!1),children:(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-x-lg",viewBox:"0 0 16 16",children:(0,o.jsx)("path",{d:"M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8 2.146 2.854Z"})})})]}),(0,o.jsx)(a.Cu,{className:"card-header text-light",style:{background:"#303c54"},children:(0,o.jsxs)(a.XU,{children:["Day: ",d.day," | Slot: ",h.start_date," - ",h.end_time]})}),(0,o.jsx)(a.xF,{children:(0,o.jsx)(a.rb,{children:(0,o.jsx)(a.b7,{xs:!0,children:(0,o.jsxs)(a.xH,{children:[(0,o.jsx)(a.bn,{children:"Add Lecture"}),(0,o.jsx)(a.sl,{children:(0,o.jsxs)(a.lx,{className:"row g-3 needs-validation",noValidate:!0,children:[(0,o.jsxs)(a.b7,{md:12,children:[(0,o.jsx)(a.L8,{htmlFor:"validationCustom02",children:"Select Classroom"}),(0,o.jsxs)(a.LX,{autoComplete:"off",id:"classroom_select","aria-label":"Default select example",onChange:e=>T(e.target.value),children:[(0,o.jsx)("option",{value:"",children:"Select classroom"}),S.length>0?S.map(((e,s)=>(0,o.jsx)("option",{value:e.slug,children:e.class_name},s))):null]})]}),(0,o.jsxs)(a.b7,{md:6,children:[(0,o.jsx)(a.L8,{htmlFor:"validationCustom01",children:"Select Subject"}),(0,o.jsxs)(a.LX,{autoComplete:"off",id:"subject_select","aria-label":"Default select example",onChange:e=>{var s;s=e.target.value,y.map(((e,t)=>{e.slug===s&&(console.log(e.teachers),_(e.teachers))})),O(e.target.value)},children:[(0,o.jsx)("option",{value:"",children:"Select Subject"}),y.length>0?y.map(((e,s)=>(0,o.jsx)("option",{value:e.slug,children:e.subject_name},s))):null]})]}),(0,o.jsxs)(a.b7,{md:6,children:[(0,o.jsx)(a.L8,{htmlFor:"validationCustom02",children:"Select Teacher"}),(0,o.jsxs)(a.LX,{autoComplete:"off",id:"teacher_select","aria-label":"Default select example",onChange:e=>F(e.target.value),children:[(0,o.jsx)("option",{value:"",children:"Select Teacher"}),w.length>0?w.map(((e,s)=>(0,o.jsx)("option",{value:e.id,children:e.profile.name},s))):null]})]}),(0,o.jsx)(a.b7,{xs:12,children:(0,o.jsx)("button",{className:"btn btn-outline-dark form-control",onClick:e=>{(async e=>{if(e.preventDefault(),""!==N&&""!==L&&""!==B){const e={"Content-Type":"application/json","ngrok-skip-browser-warning":!0},s=r.Z.create();let l="/manage/timetable/set_lecture_attributes",a="post",n=e;const c={lecture_slug:h.slug,teacher_id:B,subject_slug:L,classroom_slug:N};let o=await(0,i.J)(s,l,a,n,c,null);0==o.error?(o.response,x((e=>e+1)),t(!1)):console.log(o.error),(0,i.w)("success","Lecture Added successfully...!")}})(e)},children:"Set"})})]})})]})})})})]})})}},8379:(e,s,t)=>{t.d(s,{Z:()=>r});t(2791);var l=t(2937),a=t(184);const r=()=>(0,a.jsx)(l.rb,{})},8682:()=>{}}]);
//# sourceMappingURL=4306.f751973c.chunk.js.map