"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[8330],{2958:(e,t,s)=>{s.d(t,{Z:()=>a});const a=window.location.origin},8330:(e,t,s)=>{s.r(t),s.d(t,{default:()=>i});var a=s(2791),n=s(5294),l=s(2937),o=s(2958),r=s(2062),c=s.n(r),d=s(184);const i=()=>{const[e,t]=(0,a.useState)([]),[s,r]=(0,a.useState)([]),[i,u]=(0,a.useState)([]),[p,h]=(0,a.useState)(""),[m,j]=(0,a.useState)(""),[b,x]=(0,a.useState)(""),[g,_]=(0,a.useState)(""),[S,f]=(0,a.useState)(""),[v,C]=(0,a.useState)(""),[k,w]=(0,a.useState)([]),[L,F]=(0,a.useState)("Select Branch"),[Z,y]=(0,a.useState)("Select Semester"),O=()=>{console.log("helo"),c()({title:"SMARTROLL REGISTRATION",text:"You've already been registered",icon:"success",button:"OK"})},[N,D]=(0,a.useState)({steps:{1:!1,2:!1,3:!1,4:!1,5:!1}}),[T,P]=(0,a.useState)(1);return(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)(l.xH,{children:[(0,d.jsx)(l.bn,{children:"Student Details"}),(0,d.jsxs)(l.sl,{children:[(0,d.jsx)(l.bn,{children:"Step 1:"}),(0,d.jsx)(l.lx,{children:(0,d.jsxs)(l.lx,{className:"row g-3 needs-validation",noValidate:!0,children:[T>=1?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(l.b7,{md:12,children:[(0,d.jsx)(l.L8,{htmlFor:"validationCustom02",children:"Student Enrollment:"}),(0,d.jsx)(l.jO,{type:"number",id:"validationCustom02",onChange:e=>{console.log(e.target.value),x(e.target.value)},disabled:N.steps[1]}),(0,d.jsx)(l.CO,{valid:!0,children:"Looks good!"})]}),(0,d.jsx)(l.b7,{xs:12,children:(0,d.jsx)("button",{className:"btn btn-outline-dark form-control ".concat(N.steps[1]||T[1]?"d-none":""),onClick:e=>{(e=>{if(e.preventDefault(),""==b)alert("Please enter the enrollement");else{const e={"Content-Type":"application/json","ngrok-skip-browser-warning":!0},s={enrollment:b};n.Z.post("".concat(o.Z,"/auth/api/set_student_creds_1"),s,{headers:e}).then((e=>{P(e.data.steps);let s=e.data.steps,a=N.steps;for(let t=1;t<=s;t++)a[t]=!0;D((e=>({...e,steps:a}))),console.log(N),2==s?(t(e.data.branches),P(s)):3==s?(P(s),console.log(e.data.branch.branch_name),F(e.data.branch.branch_name),r(e.data.semesters)):4==s||5==s?(P(s),F(e.data.branch.branch_name),y(e.data.semester.no),u(e.data.subjects)):6==s&&(P(s),F(e.data.branch.branch_name),y(e.data.semester.no),u(e.data.subjects),O()),_(e.data.student_slug)})).catch((e=>{401===e.response.status&&alert(e.response.data),500===e.response.status&&alert(e.response.data.data)}))}})(e)},children:"Set"})})]}):null,(0,d.jsx)(l.bn,{children:"Step 2:"}),T>=2?(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(l.b7,{md:12,children:[(0,d.jsx)(l.L8,{htmlFor:"validationCustom02",children:"Select Branch"}),(0,d.jsxs)(l.LX,{autoComplete:"off",id:"classroom_select",onChange:e=>{(e=>{console.log(e),f(e)})(e.target.value)},disabled:N.steps[3],children:[(0,d.jsx)("option",{value:"",children:L}),e.length>0?e.map(((e,t)=>(0,d.jsx)("option",{value:e.slug,children:e.branch_name},t))):null]})]}),(0,d.jsx)(l.b7,{xs:12,children:(0,d.jsx)("button",{className:"btn btn-outline-dark form-control ".concat(N.steps[3]||T[3]?"d-none":""),onClick:e=>{(e=>{e.preventDefault();const t={student_slug:g,branch_slug:S};n.Z.post("".concat(o.Z,"/auth/api/set_student_creds_2"),t,{headers:{"Content-Type":"application/json","ngrok-skip-browser-warning":!0}}).then((e=>{console.log(e.data),P(e.data.steps);let t=e.data.steps,s=N.steps;for(let a=1;a<=t;a++)s[a]=!0;D((e=>({...e,steps:s}))),r(e.data.semesters)})).catch((e=>{console.log(e),401===e.response.status&&alert(e.response.error),500===e.response.status&&(console.log(e),alert(e.response.data.data))}))})(e)},children:"Set"})})]})}):null,(0,d.jsx)(l.bn,{children:"Step 3:"}),T>=3?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(l.b7,{md:12,children:[(0,d.jsx)(l.L8,{htmlFor:"validationCustom01",children:"Select Semester"}),(0,d.jsxs)(l.LX,{autoComplete:"off",id:"subject_select","aria-label":"Default select example",onChange:e=>{(e=>{console.log(e),C(e)})(e.target.value)},disabled:N.steps[4],children:[(0,d.jsx)("option",{value:"",children:Z}),s.length>0?s.map(((e,t)=>(0,d.jsxs)("option",{value:e.slug,children:["Semester - ",e.no]},t))):null]})]}),(0,d.jsx)(l.b7,{xs:12,children:(0,d.jsx)("button",{className:"btn btn-outline-dark form-control ".concat(N.steps[4]||T[4]?"d-none":""),onClick:e=>{(e=>{e.preventDefault();const t={student_slug:g,semester_slug:v};n.Z.post("".concat(o.Z,"/auth/api/set_student_creds_3"),t,{headers:{"Content-Type":"application/json","ngrok-skip-browser-warning":!0}}).then((e=>{console.log(e.data),u(e.data.subjects),P(e.data.steps);let t=e.data.steps,s=N.steps;for(let a=1;a<=t;a++)s[a]=!0;D((e=>({...e,steps:s})))})).catch((e=>{401===e.response.status&&alert(e.response.data),500===e.response.status&&alert(e.response.data.data)}))})(e)},children:"Set"})})]}):null,(0,d.jsx)(l.bn,{children:"Step 4:"}),T>=4?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(l.b7,{md:12,children:[(0,d.jsx)(l.L8,{htmlFor:"validationCustom01",children:"Select Subject"}),(0,d.jsx)(l.LX,{multiple:!0,autoComplete:"off",id:"subject_select","aria-label":"Default select example",onChange:e=>{const t=Array.from(e.target.selectedOptions,(e=>e.value)).filter((e=>""!==e));t.length>0?w(t):w([])},disabled:N.steps[5],children:i.length>0?i.map(((e,t)=>(0,d.jsx)("option",{value:e.slug,...e?"selected":"",children:e.subject_name},t))):null})]}),(0,d.jsx)(l.b7,{xs:12,children:(0,d.jsx)("button",{className:"btn btn-outline-dark form-control ".concat(N.steps[5]||T[5]?"d-none":""),onClick:e=>{(e=>{if(e.preventDefault(),k.length<=0)return;console.log(g);const t={student_slug:g,subject_arr:k};n.Z.post("".concat(o.Z,"/auth/api/set_student_creds_4"),t,{headers:{"Content-Type":"application/json","ngrok-skip-browser-warning":!0}}).then((e=>{P(e.data.steps);let t=e.data.steps,s=N.steps;for(let a=1;a<=t;a++)s[a]=!0;D((e=>({...e,steps:s})))})).catch((e=>{401===e.response.status&&alert(e.response.data),500===e.response.status&&alert(e.response.data.data)}))})(e)},children:"Set"})})]}):null,(0,d.jsx)(l.bn,{children:"Step 5:"}),T>=5?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(l.b7,{md:12,className:"".concat(N.steps[6]||T[6]?"d-none":""),children:[(0,d.jsx)(l.L8,{htmlFor:"validationCustom02",children:"Password"}),(0,d.jsx)(l.jO,{type:"password",id:"validationCustom02",onChange:e=>{h(e.target.value)}}),(0,d.jsx)(l.CO,{valid:!0,children:"Looks good!"})]}),(0,d.jsxs)(l.b7,{md:12,className:"".concat(N.steps[6]||T[6]?"d-none":""),children:[(0,d.jsx)(l.L8,{htmlFor:"validationCustom02",children:"Confirm Password"}),(0,d.jsx)(l.jO,{type:"password",id:"validationCustom02",onChange:e=>{j(e.target.value)}}),(0,d.jsx)(l.CO,{valid:!0,children:"Looks good!"})]}),(0,d.jsx)(l.b7,{xs:12,children:(0,d.jsx)("button",{className:"btn btn-outline-dark form-control mb ".concat(N.steps[6]||T[6]?"d-none":""),onClick:e=>(e=>{e.preventDefault(),""!=p&&""!=m&&p===m||alert("Please provide a valid password");const t={student_slug:g,password:p};n.Z.post("".concat(o.Z,"/auth/api/set_student_creds_5"),t,{headers:{"Content-Type":"application/json","ngrok-skip-browser-warning":!0}}).then((e=>{if(P(e.data.steps),6==e.data.steps){P(e.data.steps);let t=e.data.steps,s=N.steps;for(let e=1;e<=t;e++)s[e]=!0;D((e=>({...e,steps:s}))),O()}})).catch((e=>{401===e.response.status&&alert(e.response.data),500===e.response.status&&alert(e.response.data.data)}))})(e),children:"Set"})})]}):null]})})]})]})})}}}]);
//# sourceMappingURL=8330.6c7d10e9.chunk.js.map