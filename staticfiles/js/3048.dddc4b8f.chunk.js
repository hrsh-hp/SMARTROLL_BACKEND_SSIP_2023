"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[3048],{443:(e,t,a)=>{a.d(t,{Z:()=>i});a(2791);var n=a(4846),s=a(1664),o=a(5880),r=a(3570),l=a(2937),c=a(184);const i={admin_role:[{component:l.fd,name:"ADMNISTRATION"},{component:l.U6,name:"Dashboard",to:"/",icon:(0,c.jsx)(n.Z,{icon:s.M,customClassName:"nav-icon"})},{component:l.U6,name:"Teachers",to:"/manage-teachers",icon:(0,c.jsx)(n.Z,{icon:o.l,customClassName:"nav-icon"})},{component:l.U6,name:"Timetable",to:"/timetable",icon:(0,c.jsx)(n.Z,{icon:o.l,customClassName:"nav-icon"})},{component:l.U6,name:"Logout",to:"/logout",icon:(0,c.jsx)(n.Z,{icon:r.V,customClassName:"nav-icon"})}],teacher_role:[{component:l.U6,name:"Attedance History",to:"/teacherview",icon:(0,c.jsx)(n.Z,{icon:o.l,customClassName:"nav-icon"})},{component:l.U6,name:"Time Table",to:"/timetable",icon:(0,c.jsx)(n.Z,{icon:o.l,customClassName:"nav-icon"})},{component:l.U6,name:"Logout",to:"/logout",icon:(0,c.jsx)(n.Z,{icon:r.V,customClassName:"nav-icon"})}]}},2958:(e,t,a)=>{a.d(t,{Z:()=>n});const n=window.location.origin},3193:(e,t,a)=>{a.d(t,{$:()=>c});var n=a(2791),s=a(7689),o=a(1087),r=a(2937),l=a(184);const c=e=>{let{items:t}=e;const a=(0,s.TH)(),c=(e,t,a)=>(0,l.jsxs)(l.Fragment,{children:[t&&t,e&&e,a&&(0,l.jsx)(r.C_,{color:a.color,className:"ms-auto",children:a.text})]}),i=(e,t)=>{const{component:a,name:s,badge:r,icon:l,...i}=e,m=a;return(0,n.createElement)(m,{...i.to&&!i.items&&{component:o.OL},key:t,...i},c(s,l,r))},m=(e,t)=>{var n;const{component:s,name:o,icon:r,to:h,...d}=e,p=s;return(0,l.jsx)(p,{idx:String(t),toggler:c(o,r),visible:a.pathname.startsWith(h),...d,children:null===(n=e.items)||void 0===n?void 0:n.map(((e,t)=>e.items?m(e,t):i(e,t)))},t)};return(0,l.jsx)(n.Fragment,{children:t&&t.map(((e,t)=>e.items?m(e,t):i(e,t)))})}},2308:(e,t,a)=>{a.d(t,{Lk:()=>Q,qh:()=>$,tf:()=>ne,S8:()=>ie,ns:()=>he,q3:()=>ue,cG:()=>pe});var n=a(2791);const s=n.lazy((()=>a.e(1915).then(a.bind(a,1915)))),o=n.lazy((()=>a.e(811).then(a.bind(a,811)))),r=n.lazy((()=>a.e(9557).then(a.bind(a,9557)))),l=n.lazy((()=>a.e(5722).then(a.bind(a,5722)))),c=n.lazy((()=>a.e(6692).then(a.bind(a,6692)))),i=n.lazy((()=>a.e(6857).then(a.bind(a,6857)))),m=n.lazy((()=>a.e(2808).then(a.bind(a,8062)))),h=n.lazy((()=>a.e(7182).then(a.bind(a,7182)))),d=n.lazy((()=>a.e(5735).then(a.bind(a,5735)))),p=n.lazy((()=>a.e(1001).then(a.bind(a,1001)))),b=n.lazy((()=>a.e(7494).then(a.bind(a,7494)))),u=n.lazy((()=>a.e(1894).then(a.bind(a,1894)))),g=n.lazy((()=>a.e(2422).then(a.bind(a,2422)))),f=n.lazy((()=>a.e(4142).then(a.bind(a,4142)))),x=n.lazy((()=>a.e(44).then(a.bind(a,44)))),y=n.lazy((()=>a.e(1299).then(a.bind(a,1299)))),j=n.lazy((()=>a.e(2670).then(a.bind(a,2670)))),v=n.lazy((()=>Promise.all([a.e(4306),a.e(5371)]).then(a.bind(a,6333)))),k=n.lazy((()=>a.e(6882).then(a.bind(a,6882)))),w=n.lazy((()=>a.e(3866).then(a.bind(a,3866)))),z=n.lazy((()=>a.e(644).then(a.bind(a,644)))),T=n.lazy((()=>a.e(3738).then(a.bind(a,3738)))),C=n.lazy((()=>a.e(6027).then(a.bind(a,6027)))),S=n.lazy((()=>a.e(3255).then(a.bind(a,3255)))),_=n.lazy((()=>a.e(4085).then(a.bind(a,4085)))),N=n.lazy((()=>a.e(3861).then(a.bind(a,3861)))),Z=n.lazy((()=>a.e(1883).then(a.bind(a,1883)))),I=n.lazy((()=>a.e(1968).then(a.bind(a,1968)))),A=n.lazy((()=>a.e(8386).then(a.bind(a,8386)))),B=n.lazy((()=>a.e(5962).then(a.bind(a,5962)))),P=n.lazy((()=>a.e(9979).then(a.bind(a,9979)))),L=n.lazy((()=>a.e(8099).then(a.bind(a,8037)))),U=n.lazy((()=>Promise.all([a.e(3076),a.e(9958)]).then(a.bind(a,9958)))),E=n.lazy((()=>a.e(9746).then(a.bind(a,9746)))),F=n.lazy((()=>Promise.all([a.e(4269),a.e(4091),a.e(4017)]).then(a.bind(a,4017)))),R=n.lazy((()=>Promise.all([a.e(4269),a.e(1053),a.e(327)]).then(a.bind(a,4106)))),D=n.lazy((()=>Promise.all([a.e(4269),a.e(7096)]).then(a.bind(a,7096)))),G=n.lazy((()=>a.e(3304).then(a.bind(a,3304)))),q=[{path:"/",exact:!0,name:"Home"},{path:"/dashboard",name:"Dashboard",element:s},{path:"/theme",name:"Theme",element:o,exact:!0},{path:"/theme/colors",name:"Colors",element:o},{path:"/theme/typography",name:"Typography",element:r},{path:"/base",name:"Base",element:i,exact:!0},{path:"/base/accordion",name:"Accordion",element:l},{path:"/base/breadcrumbs",name:"Breadcrumbs",element:c},{path:"/base/cards",name:"Cards",element:i},{path:"/base/carousels",name:"Carousel",element:m},{path:"/base/collapses",name:"Collapse",element:h},{path:"/base/list-groups",name:"List Groups",element:d},{path:"/base/navs",name:"Navs",element:p},{path:"/base/paginations",name:"Paginations",element:b},{path:"/base/placeholders",name:"Placeholders",element:u},{path:"/base/popovers",name:"Popovers",element:g},{path:"/base/progress",name:"Progress",element:f},{path:"/base/spinners",name:"Spinners",element:x},{path:"/base/tables",name:"Tables",element:y},{path:"/base/tooltips",name:"Tooltips",element:j},{path:"/buttons",name:"Buttons",element:k,exact:!0},{path:"/buttons/buttons",name:"Buttons",element:k},{path:"/buttons/dropdowns",name:"Dropdowns",element:z},{path:"/buttons/button-groups",name:"Button Groups",element:w},{path:"/charts",name:"Charts",element:U},{path:"/forms",name:"Forms",element:S,exact:!0},{path:"/forms/form-control",name:"Form Control",element:S},{path:"/forms/select",name:"Select",element:I},{path:"/forms/checks-radios",name:"Checks & Radios",element:T},{path:"/forms/range",name:"Range",element:Z},{path:"/forms/input-group",name:"Input Group",element:_},{path:"/forms/floating-labels",name:"Floating Labels",element:C},{path:"/forms/layout",name:"Layout",element:N},{path:"/forms/validation",name:"Validation",element:A},{path:"/icons",exact:!0,name:"Icons",element:F},{path:"/icons/coreui-icons",name:"CoreUI Icons",element:F},{path:"/icons/flags",name:"Flags",element:R},{path:"/icons/brands",name:"Brands",element:D},{path:"/notifications",name:"Notifications",element:G,exact:!0},{path:"/notifications/alerts",name:"Alerts",element:G},{path:"/notifications/badges",name:"Badges",element:n.lazy((()=>a.e(1243).then(a.bind(a,1243))))},{path:"/notifications/modals",name:"Modals",element:n.lazy((()=>a.e(2066).then(a.bind(a,2066))))},{path:"/notifications/toasts",name:"Toasts",element:n.lazy((()=>a.e(5198).then(a.bind(a,5198))))},{path:"/widgets",name:"Widgets",element:n.lazy((()=>Promise.all([a.e(3076),a.e(3393)]).then(a.bind(a,3393))))},{path:"/manage-teachers",name:"Teacher",element:B},{path:"/breadcrumb",name:"Breadcrumbnav",element:P},{path:"/TeacherSidebar",name:"TeacherSidebar",element:L},{path:"/logout",name:"Logout",element:E},{path:"/timetable",name:"Timetable",element:v}];var H=a(2937),O=a(184);var W=a(7689),V=a(5294),K=(a(2958),a(2585)),M=(a(9160),a(3645));const J=()=>{const{state:e,dispatch:t}=(0,n.useContext)(K.y),{accessToken:a,refreshToken:s,batches:o,accessTokenActive:r,profileDetails:l}=e;(0,W.s0)();return(0,n.useEffect)((()=>{a&&(console.log(l.role),"admin"===l.role&&(async()=>{const e=V.Z.create();let a={"Content-Type":"application/json","ngrok-skip-browser-warning":!0},n=await(0,M.J)(e,"/manage/get_batches","get",a);if(0==n.error){let e=n.response;t({type:"GET_BATCHES",payload:e.data.data}),e.data.data.map((e=>{e.active&&t({type:"CURRENT_BATCH_SLUG",payload:e})}))}else console.log(n.error)})())}),[]),(0,O.jsx)(H.KB,{lg:!0,children:(0,O.jsx)(n.Suspense,{fallback:(0,O.jsx)(H.LQ,{color:"primary"}),children:(0,O.jsxs)(W.Z5,{children:[q.map(((e,t)=>e.element&&(0,O.jsx)(W.AW,{path:e.path,exact:e.exact,name:e.name,element:(0,O.jsx)(e.element,{})},t))),console.log(l.role),"admin"===l.role?(0,O.jsx)(W.AW,{path:"/",element:(0,O.jsx)(W.Fg,{to:"dashboard",replace:!0})}):(0,O.jsx)(W.AW,{path:"/",element:(0,O.jsx)(W.Fg,{to:"teacherview",replace:!0})})]})})})},Q=n.memo(J),X=()=>(0,O.jsx)(H.pG,{children:(0,O.jsxs)("div",{className:"mx-auto",children:[(0,O.jsx)("span",{className:"ms-1",children:"Powered by"}),(0,O.jsx)("a",{href:"https://coreui.io/react",target:"_blank",rel:"noopener noreferrer",children:"SmartRoll"})]})}),$=n.memo(X);var Y=a(9434),ee=a(4846),te=a(612);const ae=()=>{(0,W.s0)();const{state:e,dispatch:t}=(0,n.useContext)(K.y),{profileDetails:a}=e,[s,o]=(0,n.useState)("");(0,n.useEffect)((()=>{a&&o(a.email)}),[a]);return(0,O.jsx)(H.w5,{variant:"nav-item",children:(0,O.jsx)(H.SQ,{placement:"bottom-end",className:"py-0",caret:!1,children:(0,O.jsx)("div",{className:"text-medium-emphasis",children:s})})})},ne=()=>{const{state:e,dispatch:t}=(0,n.useContext)(K.y),{profileDetails:a}=e,[s,o]=(0,n.useState)("");(0,n.useEffect)((()=>{a&&o(a.email)}),[a]);const r=(0,Y.I0)(),l=(0,Y.v9)((e=>e.sidebarShow));return(0,O.jsx)(H.PO,{position:"sticky",className:"mb-2",children:(0,O.jsxs)(H.KB,{fluid:!0,children:[(0,O.jsx)(H.X4,{className:"ps-1",onClick:()=>r({type:"set",sidebarShow:!l}),children:(0,O.jsx)(ee.Z,{icon:te.N,size:"lg"})}),(0,O.jsx)(H.g3,{className:"ms-3",children:(0,O.jsx)(ae,{})})]})})};var se=a(3193),oe=a(4358);a(2454);const re=a.p+"static/media/smartroll_logo.a3c3e21d0b4a56919e74.png";var le=a(443);const ce=()=>{const{state:e,dispatch:t}=(0,n.useContext)(K.y),{accessToken:a,refreshToken:s,profileDetails:o}=e;console.log("here"),console.log(o);const r=(0,Y.I0)(),l=(0,Y.v9)((e=>e.sidebarUnfoldable)),c=(0,Y.v9)((e=>e.sidebarShow));return(0,O.jsxs)(H.z3,{position:"fixed",palcement:"end",unfoldable:l,visible:c,onVisibleChange:e=>{r({type:"set",sidebarShow:e})},children:[(0,O.jsx)("img",{className:"p-3",src:re}),(0,O.jsx)(H.Xk,{children:(0,O.jsx)(oe.Z,{children:(0,O.jsx)(se.$,{items:"admin"===o.role?le.Z.admin_role:le.Z.teacher_role})})})]})},ie=n.memo(ce),me=e=>{const{content:t,href:a,name:n}=e,s="s"===n.slice(-1),o="https://coreui.io/react/docs/".concat(a);return(0,O.jsxs)(H.e_,{color:"info",className:"bg-white",children:[t||"A React ".concat(n," component ").concat(s?"have":"has"," been created as a native React.js version\n      of Bootstrap ").concat(n,". ").concat(n," ").concat(s?"are":"is"," delivered with some new features,\n      variants, and unique design that matches CoreUI Design System requirements."),(0,O.jsx)("br",{}),(0,O.jsx)("br",{}),"For more information please visit our official"," ",(0,O.jsx)(H.h7,{href:o,target:"_blank",children:"documentation of CoreUI Components Library for React.js"}),"."]})},he=n.memo(me),de=e=>{const{href:t,name:a,text:n,...s}=e,o=a?"https://coreui.io/react/docs/components/".concat(a):t;return(0,O.jsx)("div",{className:"float-end",children:(0,O.jsx)(H.h7,{...s,href:o,rel:"noreferrer noopener",target:"_blank",className:"card-header-action",children:(0,O.jsx)("small",{className:"text-medium-emphasis",children:n||"docs"})})})},pe=n.memo(de),be=e=>{const{children:t}=e;return(0,O.jsx)("div",{className:"example",children:(0,O.jsx)(H.gr,{className:"rounded-bottom",children:(0,O.jsx)(H.IA,{className:"p-3 preview",visible:!0,children:t})})})},ue=n.memo(be)},3645:(e,t,a)=>{a.d(t,{J:()=>l,w:()=>i});var n=a(5294),s=a(2958),o=a(2062),r=a.n(o);const l=async function(e,t,a,n){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;const i=localStorage.getItem("accessToken"),m=localStorage.getItem("refreshToken");let h;if(n.Authorization="Bearer ".concat(i),window.setProgress(100),"get"===a)try{h={error:!1,response:await e.get("".concat(s.Z).concat(t),{headers:n,params:r})}}catch(d){if(d.response&&401===d.response.status){const s=await c(m);localStorage.setItem("accessToken",s.access),localStorage.setItem("refreshToken",s.refresh),h=await l(e,t,a,n,o,r)}else h={error:!0,error:d}}else if("post"===a)try{h={error:!1,response:await e.post("".concat(s.Z).concat(t),o,{headers:n})}}catch(d){if(d.response&&401===d.response.status){const s=await c(m);localStorage.setItem("accessToken",s.access),localStorage.setItem("refreshToken",s.refresh),h=await l(e,t,a,n,o,r)}else h={error:!0,error:d}}return h},c=async e=>n.Z.post("".concat(s.Z,"/auth/api/token/refresh/"),{refresh:e},{headers:{"ngrok-skip-browser-warning":!0}}).then((e=>e.data)).catch((e=>{throw e})),i=(e,t)=>{console.log("helo"),r()({title:e,text:t,icon:"success",button:"OK"})}},9160:(e,t,a)=>{a.d(t,{Z:()=>o});var n=a(5294),s=a(2958);const o=async(e,t)=>{n.Z.post("".concat(s.Z,"/auth/api/token/refresh/"),{refresh:e},{headers:{"ngrok-skip-browser-warning":!0}}).then((e=>{localStorage.setItem("accessToken",e.data.access),localStorage.setItem("refreshToken",e.data.refresh),t(!0)})).catch((e=>{console.log(e)}))}},6265:(e,t,a)=>{a.r(t),a.d(t,{default:()=>p});var n=a(2791),s=a(2308),o=a(7689),r=a(2585),l=a(5294),c=a(2958),i=a(9165),m=a(9160),h=a(5443),d=a(184);const p=()=>{const{state:e,dispatch:t}=(0,n.useContext)(r.y),{accessToken:a,refreshToken:p}=e,[b,u]=(0,n.useState)(!0),[g,f]=(0,n.useState)(!1),[x,y]=(0,n.useState)(0);"undefined"!==typeof window&&(window.setProgress=y);const j=(0,o.s0)();return(0,n.useEffect)((()=>{b?l.Z.get("".concat(c.Z,"/check_server_avaibility/"),{headers:{"Content-Type":"application/json","ngrok-skip-browser-warning":!0}}).then((e=>{u(!1),console.log("here"),console.log(e.data)})).catch((e=>{j("/404")})):(()=>{const e={"Content-Type":"application/json","ngrok-skip-browser-warning":!0},t=localStorage.getItem("accessToken"),a=localStorage.getItem("refreshToken");e.Authorization="Bearer ".concat(t),l.Z.get("".concat(c.Z,"/check_token_authenticity/"),{headers:e}).then((e=>{f(!0)})).catch((e=>{401===e.response.status&&(0,m.Z)(a,f)}))})()}),[b]),(0,n.useEffect)((()=>{a?(()=>{const e=(0,i.o)(a);window.user_profile=e.profile,t({type:"SET_PROFILE",payload:e.profile})})():j("/login")}),[a]),(0,n.useEffect)((()=>{console.log(g)}),[g]),a&&!b&&g?(0,d.jsxs)("div",{children:[(0,d.jsx)(h.Z,{color:"#1f6feb",progress:x,onLoaderFinished:()=>y(0)}),(0,d.jsx)(s.S8,{}),(0,d.jsxs)("div",{className:"wrapper d-flex flex-column min-vh-100 bg-light",children:[(0,d.jsx)(s.tf,{}),(0,d.jsx)("div",{className:"body flex-grow-1 px-3",children:(0,d.jsx)(s.Lk,{})}),(0,d.jsx)(s.qh,{})]})]}):null}}}]);
//# sourceMappingURL=3048.dddc4b8f.chunk.js.map